"""MCP Server tool: {{ spec.display_name or spec.name }}

{{ spec.description }}

Generated by Forge â€” Self-Evolving Tool Agent.
"""

from mcp.server.fastmcp import FastMCP
{% if spec.dependencies %}
{% for dep in spec.dependencies %}
import {{ dep }}
{% endfor %}
{% endif %}

mcp = FastMCP("{{ spec.name }}")


@mcp.tool()
def {{ spec.name }}(
{%- for param in spec.params %}
    {{ param.name }}: {{ param.type_hint }}{% if not param.required %} = {{ param.default | default("None", true) }}{% endif %},
{%- endfor %}
) -> {{ spec.return_type }}:
    """{{ spec.description }}

    Args:
{%- for param in spec.params %}
        {{ param.name }}: {{ param.description }}
{%- endfor %}

    Returns:
        {{ spec.return_description or spec.return_type }}
    """
    try:
        {{ spec.core_logic | indent(8) }}
    except Exception as e:
        return f"Error: {e}"


if __name__ == "__main__":
    mcp.run()
