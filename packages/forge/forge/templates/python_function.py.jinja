"""{{ spec.display_name or spec.name }} — {{ spec.description }}

Generated by Forge — Self-Evolving Tool Agent.
"""

from __future__ import annotations
{% if spec.dependencies %}
{% for dep in spec.dependencies %}
import {{ dep }}
{% endfor %}
{% endif %}


def {{ spec.name }}(
{%- for param in spec.params %}
    {{ param.name }}: {{ param.type_hint }}{% if not param.required %} = {{ param.default | default("None", true) }}{% endif %},
{%- endfor %}
) -> {{ spec.return_type }}:
    """{{ spec.description }}

    Args:
{%- for param in spec.params %}
        {{ param.name }}: {{ param.description }}
{%- endfor %}

    Returns:
        {{ spec.return_description or spec.return_type }}

    Raises:
        ValueError: If input validation fails.
    """
    {{ spec.core_logic | indent(4) }}


if __name__ == "__main__":
    import sys
{% if spec.params %}
    # Basic CLI usage for testing
{% for param in spec.params %}{% if loop.index0 < 3 %}
    {{ param.name }} = sys.argv[{{ loop.index }}] if len(sys.argv) > {{ loop.index }} else {{ param.default | default("None", true) | tojson }}
{% endif %}{% endfor %}
    result = {{ spec.name }}({% for param in spec.params %}{% if loop.index0 < 3 %}{{ param.name }}{% if not loop.last %}, {% endif %}{% endif %}{% endfor %})
    print(result)
{% else %}
    result = {{ spec.name }}()
    print(result)
{% endif %}
